<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Explore Tours — Qushal Tours</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />

    <style>
        body { font-family: 'Poppins', sans-serif; background:#f8fafc; margin:0; }
        .container { max-width:1100px; margin:0 auto; padding:28px 16px; }
        .hero { background: linear-gradient(90deg,#06b6d4 0%,#2563eb 100%); color:#fff; padding:36px; border-radius:12px; }
        .badge { background:rgba(255,255,255,0.12); padding:6px 10px; border-radius:8px; display:inline-flex; gap:8px; align-items:center; }
        .gallery img { width:100%; height:220px; object-fit:cover; border-radius:8px; }
        @media print { .no-print { display:none !important; } }
    </style>
</head>
<body>
    <div class="container">
        <!-- top navigation (simple) -->
        <header class="flex items-center justify-between mb-6">
            <a href="index.html" class="flex items-center gap-3 text-slate-800 no-underline">
                <div style="width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,#06b6d4,#2563eb);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700">QT</div>
                <div>
                    <div class="font-extrabold text-lg">Qushal Tours</div>
                    <div class="text-sm text-slate-500">Discover your next adventure</div>
                </div>
            </a>
            <nav class="flex items-center gap-4">
                <a href="indian_tours.html" class="text-sm text-slate-600 hover:text-cyan-600">All Tours</a>
                <a href="services.html" class="text-sm text-slate-600 hover:text-cyan-600">Pickup & Drop</a>
                <a href="index.html" class="text-sm text-slate-600 hover:text-cyan-600">Home</a>
            </nav>
        </header>

        <!-- hero / title -->
        <section class="hero mb-6">
            <div class="flex items-start justify-between gap-6">
                <div>
                    <div class="text-sm badge mb-3 no-print"><i data-lucide="map-pin" class="h-4 w-4"></i> Detailed Tour</div>
                    <h1 id="tour-title" class="text-3xl md:text-4xl font-extrabold leading-tight">Explore Tour</h1>
                    <p id="tour-subtitle" class="mt-2 text-sm opacity-90 max-w-2xl">Detailed itinerary, inclusions, highlights and booking options.</p>
                    <div class="mt-4 flex gap-3">
                        <a id="book-now" class="no-print inline-flex items-center gap-2 bg-white text-cyan-700 font-semibold px-4 py-2 rounded-lg shadow" href="tours_book.html">
                            <i data-lucide="credit-card" class="h-4 w-4"></i> Book Now
                        </a>
                        <a id="back-link" class="no-print inline-flex items-center gap-2 bg-white/10 text-white font-medium px-4 py-2 rounded-lg hover:bg-white/20" href="indian_tours.html">
                            <i data-lucide="chevrons-left" class="h-4 w-4"></i> Back to Tours
                        </a>
                    </div>
                </div>
                <div class="text-right">
                    <div id="tour-price" class="text-2xl font-bold">₹ —</div>
                    <div class="text-sm opacity-80">per person (est.)</div>
                </div>
            </div>
        </section>

        <!-- content area -->
        <main class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <section class="lg:col-span-2 space-y-6">
                <div id="intro" class="bg-white p-5 rounded-lg shadow-sm">
                    <h2 class="font-semibold text-lg mb-2">Overview</h2>
                    <p id="tour-overview" class="text-sm text-slate-700"></p>
                </div>

                <div id="itinerary" class="bg-white p-5 rounded-lg shadow-sm">
                    <h2 class="font-semibold text-lg mb-3">Itinerary</h2>
                    <ol id="itinerary-list" class="list-decimal pl-5 space-y-3 text-sm text-slate-700"></ol>
                </div>

                <div id="highlights" class="bg-white p-5 rounded-lg shadow-sm">
                    <h2 class="font-semibold text-lg mb-3">Highlights</h2>
                    <ul id="highlights-list" class="list-disc pl-5 space-y-2 text-sm text-slate-700"></ul>
                </div>

                <div id="notes" class="bg-white p-5 rounded-lg shadow-sm">
                    <h2 class="font-semibold text-lg mb-2">Important Information</h2>
                    <ul id="notes-list" class="list-disc pl-5 text-sm text-slate-700 space-y-2"></ul>
                </div>
            </section>

            <aside class="space-y-6">
                <div class="bg-white p-4 rounded-lg shadow-sm">
                    <h3 class="font-semibold mb-3">Gallery</h3>
                    <div class="grid grid-cols-1 gap-3 gallery" id="gallery">
                        <!-- images populated by JS -->
                    </div>
                </div>

                <div class="bg-white p-4 rounded-lg shadow-sm">
                    <h3 class="font-semibold mb-3">Inclusions</h3>
                    <ul id="inclusions-list" class="list-disc pl-5 text-sm text-slate-700 space-y-2"></ul>
                </div>

                <div class="bg-white p-4 rounded-lg shadow-sm">
                    <h3 class="font-semibold mb-3">Need help?</h3>
                    <p class="text-sm text-slate-600">Call us: <a href="tel:+919876543210" class="text-cyan-600 font-medium">+91 98765 43210</a></p>
                    <p class="text-sm text-slate-600 mt-2">Or <a href="services.html" class="text-cyan-600 font-medium">request a pickup</a> for this tour.</p>
                </div>
            </aside>
        </main>
    </div>

    <script>
    // Populate tour details from query param (?tour=jaipur)
    (function(){
        const tours = {
            jaipur: {
                title: "Jaipur — The Pink City (4 Days / 3 Nights)",
                subtitle: "Explore forts, palaces, local bazaars and Rajasthani culture.",
                price: "₹8,499",
                overview: "Experience Jaipur's vibrant heritage with visits to Amber Fort, City Palace, Hawa Mahal and more. Comfortable stays and local guides included.",
                itinerary: [
                    "Day 1: Arrival in Jaipur, check-in, evening local market visit.",
                    "Day 2: Amber Fort, Jaigarh Fort, City Palace, Jantar Mantar.",
                    "Day 3: Local crafts village, Hawa Mahal, evening cultural performance.",
                    "Day 4: Checkout and transfer to next destination."
                ],
                highlights: ["Amber Fort visit", "City Palace guided tour", "Local Rajasthani cuisine tasting", "Cultural performance"],
                inclusions: ["2-night hotel stay (3★)", "Daily breakfast", "All transfers within Jaipur", "Local English-speaking guide"],
                notes: ["Rates subject to availability", "GST extra", "Advance booking recommended for peak seasons"],
                images: [
                    "https://images.unsplash.com/photo-1545414713-6a3b8f7f73d3?w=1200&q=60",
                    "https://images.unsplash.com/photo-1505765059207-5e9e2b8c4f21?w=1200&q=60",
                    "https://images.unsplash.com/photo-1526779259212-8e28f9a6f8d6?w=1200&q=60"
                ]
            },
            goa: {
                title: "Goa Beaches & Nightlife (3 Days / 2 Nights)",
                subtitle: "Sun, sand and lively nights at Goa's best beaches.",
                price: "₹6,999",
                overview: "Relax on golden beaches, try water sports, and enjoy Goan cuisine and nightlife. Perfect short break.",
                itinerary: [
                    "Day 1: Arrival, beach time, sunset cruise.",
                    "Day 2: Water sports, explore north/goa markets.",
                    "Day 3: Leisure morning, checkout."
                ],
                highlights: ["Sunset cruise", "Water sports", "Beach party experience"],
                inclusions: ["2-night beach resort", "Breakfast", "Airport transfers", "1 sunset cruise"],
                notes: ["Certain activities cost extra", "Seasonal price variations"],
                images: [
                    "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1200&q=60",
                    "https://images.unsplash.com/photo-1493558103817-58b2924bce98?w=1200&q=60"
                ]
            },
            manali: {
                title: "Manali — Himalayan Retreat (5 Days / 4 Nights)",
                subtitle: "Snow-capped mountains, river valleys and mountain drives.",
                price: "₹12,499",
                overview: "Escape to the Himalayas with scenic drives, valley walks and local experiences in Manali.",
                itinerary: [
                    "Day 1: Arrival, Mall Road visit.",
                    "Day 2: Solang Valley snow activities.",
                    "Day 3: Rohtang pass / local excursion.",
                    "Day 4: Local temples and culture.",
                    "Day 5: Checkout."
                ],
                highlights: ["Solang Valley", "Rohtang Pass (subject to permits)", "River-side stays"],
                inclusions: ["4-night hotel", "Breakfast", "Local transfers", "Guided excursions"],
                notes: ["Rohtang visit subject to permit and weather", "Travel insurance recommended"],
                images: [
                    "https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=1200&q=60",
                    "https://images.unsplash.com/photo-1518684079-6d6e9f3f9b2f?w=1200&q=60"
                ]
            },
            kashmir: {
                title: "Kashmir — Paradise on Earth (4 Days / 3 Nights)",
                subtitle: "Lakes, shikara rides and alpine meadows.",
                price: "₹13,999",
                overview: "Experience the serene beauty of Kashmir with shikara rides on Dal Lake, houseboat stays, and scenic drives through alpine meadows.",
                itinerary: [
                    "Day 1: Arrival in Srinagar, houseboat check-in and shikara ride on Dal Lake.",
                    "Day 2: Gulmarg day trip (gondola optional) or local sightseeing in Srinagar.",
                    "Day 3: Pahalgam/Avantipur excursion and local markets.",
                    "Day 4: Checkout and departure."
                ],
                highlights: ["Dal Lake shikara ride", "Houseboat stay", "Gulmarg day trip", "Local Kashmiri cuisine"],
                inclusions: ["3-night accommodation (houseboat/hotel)", "Breakfast", "All transfers within Kashmir", "Guided local sightseeing"],
                notes: ["Permits may be required for some areas", "Weather and road access may affect itinerary"],
                images: [
                    "https://images.unsplash.com/photo-1595821731306-44636916fde4?w=1200&q=60",
                    "https://images.unsplash.com/photo-1505765059207-5e9e2b8c4f21?w=1200&q=60"
                ]
            },
            rajasthan: {
                title: "Rajasthan — Land of Kings (5 Days / 4 Nights)",
                subtitle: "Forts, palaces, deserts and royal culture.",
                price: "₹9,499",
                overview: "Explore Jaipur, Jodhpur and Udaipur with palace visits, cultural experiences and local cuisine.",
                itinerary: [
                    "Day 1: Arrival in Jaipur and local market visit.",
                    "Day 2: Amber Fort & City Palace.",
                    "Day 3: Drive to Jodhpur (Mehrangarh Fort).",
                    "Day 4: Udaipur city tour.",
                    "Day 5: Checkout."
                ],
                highlights: ["Amber Fort", "Mehrangarh Fort", "Boat ride in Udaipur"],
                inclusions: ["Hotel stays", "Transfers", "Breakfast"],
                notes: ["Peak season pricing applies"],
                images: [
                    "https://images.unsplash.com/photo-1524293115479-16a7810d2401?w=1200&q=60"
                ]
            },
            kerala: {
                title: "Kerala — Backwater Retreat (4 Days / 3 Nights)",
                subtitle: "Houseboats, tea gardens and slow travel.",
                price: "₹7,499",
                overview: "Cruise the backwaters, visit tea plantations and enjoy local cuisine.",
                itinerary: [
                    "Day 1: Arrival and houseboat stay.",
                    "Day 2: Backwater cruise and village visit.",
                    "Day 3: Tea estates and local markets.",
                    "Day 4: Checkout."
                ],
                highlights: ["Houseboat stay", "Backwater cruise", "Local food"],
                inclusions: ["Houseboat, transfers, breakfast"],
                notes: ["Seasonal availability"],
                images: [
                    "https://images.unsplash.com/photo-1602216056096-3b40402e9a0f?w=1200&q=60"
                ]
            }
        };

        function safeCreateIcons(){
            if (window.lucide && typeof lucide.createIcons === 'function') {
                try { lucide.createIcons(); } catch(e) {}
            }
        }

        // read tour param (support multiple param names and decode)
        const params = new URLSearchParams(window.location.search);
        const rawParam = (params.get('tour') || params.get('t') || params.get('name') || '').trim();
        const key = decodeURIComponent(rawParam).toLowerCase();

        // alias map and finder
        const alias = {
            rajasthan: 'rajasthan',
            jaipur: 'jaipur',
            goa: 'goa',
            manali: 'manali',
            kashmir: 'kashmir',
            kerala: 'kerala'
        };

        function findTour(slug) {
            if (!slug) return null;
            if (tours[slug]) return { key: slug, data: tours[slug] };
            if (alias[slug] && tours[alias[slug]]) return { key: alias[slug], data: tours[alias[slug]] };

            // try fuzzy: match if slug is contained in any key or title
            for (const k of Object.keys(tours)) {
                if (k.includes(slug) || slug.includes(k)) return { key: k, data: tours[k] };
                const title = (tours[k].title || '').toLowerCase();
                if (title.includes(slug)) return { key: k, data: tours[k] };
            }
            return null;
        }

        const found = findTour(key);

        const setText = (id, txt) => {
            const el = document.getElementById(id);
            if (!el) return;
            el.textContent = txt;
        };

        const populateList = (id, items) => {
            const el = document.getElementById(id);
            if (!el) return;
            el.innerHTML = '';
            (items || []).forEach(i => {
                const li = document.createElement('li');
                li.textContent = i;
                el.appendChild(li);
            });
        };

        const populateGallery = (id, images) => {
            const el = document.getElementById(id);
            if (!el) return;
            el.innerHTML = '';
            (images || []).forEach(src => {
                const img = document.createElement('img');
                img.src = src;
                img.alt = "Tour image";
                img.loading = 'lazy';
                el.appendChild(img);
            });
        };

        document.addEventListener('DOMContentLoaded', () => {
            safeCreateIcons();

            if (!found) {
                if (key) {
                    // user clicked explore but slug didn't match — show helpful message and list available tours
                    setText('tour-title', 'Tour not found');
                    setText('tour-subtitle', `No tour found for "${key}". Showing available tours below.`);
                    setText('tour-price', '—');
                    setText('tour-overview', 'Please choose a tour from the list or go back to the tours page.');
                    populateList('itinerary-list', Object.keys(tours).map(k => tours[k].title));
                    populateList('highlights-list', []);
                    populateList('notes-list', []);
                    populateList('inclusions-list', []);
                    document.getElementById('gallery').innerHTML = '<div class="rounded-lg bg-slate-100 p-6 text-sm text-slate-500">No images available for this selection.</div>';
                } else {
                    // no param provided — generic placeholder
                    setText('tour-title', 'Explore Tours');
                    setText('tour-subtitle', 'Select a tour from the tours page.');
                    setText('tour-price', '—');
                    setText('tour-overview', 'No specific tour selected. Please return to the tours page and click "Explore Now" on a tour to see details here.');
                    populateList('itinerary-list', ['Visit the tours page to view itineraries.']);
                    populateList('highlights-list', []);
                    populateList('notes-list', []);
                    populateList('inclusions-list', []);
                    document.getElementById('gallery').innerHTML = '<div class="rounded-lg bg-slate-100 p-6 text-sm text-slate-500">No images available</div>';
                }
                return;
            }

            const tour = found.data;
            setText('tour-title', tour.title);
            setText('tour-subtitle', tour.subtitle || '');
            setText('tour-price', tour.price || '—');
            setText('tour-overview', tour.overview || '');
            populateList('itinerary-list', tour.itinerary || []);
            populateList('highlights-list', tour.highlights || []);
            populateList('notes-list', tour.notes || []);
            populateList('inclusions-list', tour.inclusions || []);
            populateGallery('gallery', tour.images || []);

            // Book now link includes tour slug for contextual booking
            const bookNow = document.getElementById('book-now');
            if (bookNow) {
                const qs = new URLSearchParams();
                qs.set('tour', found.key);
-                bookNow.href = 'services.html?' + qs.toString();
+                // Redirect to the tour booking form page (tours_book.html) with the tour slug
+                bookNow.href = 'tours_book.html?' + qs.toString();
            }
        });
    })();
    </script>
</body>
</html>